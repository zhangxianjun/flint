<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="team.flint.flint.core.mapper.DocumentMapper">

    <select id="selectByPrimaryKey" parameterType="java.lang.Integer"
            resultType="team.flint.flint.model.table.Resource">
        select *
        from resource
        where resource_id = #{resourceId,jdbcType=INTEGER}
    </select>

    <insert id="insertResource">
        insert into resource (resource_id, root_id, name,
                              path, show_order, create_time,
                              update_time)
        values (#{resourceId,jdbcType=INTEGER}, #{rootId,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR},
                #{path,jdbcType=VARCHAR}, #{showOrder,jdbcType=INTEGER}, #{createTime,jdbcType=TIMESTAMP},
                #{updateTime,jdbcType=TIMESTAMP})
    </insert>

    <insert id="insertSelective" parameterType="team.flint.flint.model.table.Resource">
        insert into resource
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="resourceId != null">
                resource_id,
            </if>
            <if test="rootId != null">
                root_id,
            </if>
            <if test="name != null">
                name,
            </if>
            <if test="path != null">
                path,
            </if>
            <if test="showOrder != null">
                show_order,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="updateTime != null">
                update_time,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="resourceId != null">
                #{resourceId,jdbcType=INTEGER},
            </if>
            <if test="rootId != null">
                #{rootId,jdbcType=INTEGER},
            </if>
            <if test="name != null">
                #{name,jdbcType=VARCHAR},
            </if>
            <if test="path != null">
                #{path,jdbcType=VARCHAR},
            </if>
            <if test="showOrder != null">
                #{showOrder,jdbcType=INTEGER},
            </if>
            <if test="createTime != null">
                #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="updateTime != null">
                #{updateTime,jdbcType=TIMESTAMP},
            </if>
        </trim>
    </insert>

    <update id="updateByPrimaryKeySelective" parameterType="team.flint.flint.model.table.Resource">
        update resource
        <set>
            <if test="rootId != null">
                root_id = #{rootId,jdbcType=INTEGER},
            </if>
            <if test="name != null">
                name = #{name,jdbcType=VARCHAR},
            </if>
            <if test="path != null">
                path = #{path,jdbcType=VARCHAR},
            </if>
            <if test="showOrder != null">
                show_order = #{showOrder,jdbcType=INTEGER},
            </if>
            <if test="createTime != null">
                create_time = #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="updateTime != null">
                update_time = #{updateTime,jdbcType=TIMESTAMP},
            </if>
        </set>
        where resource_id = #{resourceId,jdbcType=INTEGER}
    </update>

    <update id="updateResource">
        update resource
        set root_id     = #{rootId,jdbcType=INTEGER},
            name        = #{name,jdbcType=VARCHAR},
            path        = #{path,jdbcType=VARCHAR},
            show_order  = #{showOrder,jdbcType=INTEGER},
            update_time = #{updateTime,jdbcType=TIMESTAMP}
        where resource_id = #{resourceId,jdbcType=INTEGER}
    </update>

    <select id="getResourceList" parameterType="java.lang.Integer" resultType="team.flint.flint.model.table.Resource">
        select * from resource
        where 1=1
        <if test="rootId != 0">
            and root_id = #{rootId,jdbcType=INTEGER}
        </if>
        order by resource_id asc, show_order asc
    </select>

    <select id="getResourceListByRootId" parameterType="java.lang.Integer" resultType="team.flint.flint.model.table.Resource">
        select * from resource
        where root_id = #{rootId,jdbcType=INTEGER}
        order by show_order asc
    </select>

    <select id="getResourceById" parameterType="java.lang.Integer" resultType="team.flint.flint.model.table.Resource">
        select * from resource
        where resource_id = #{resourceId,jdbcType=INTEGER}
    </select>

</mapper>